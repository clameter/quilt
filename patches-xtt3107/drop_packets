Index: rdma-core/ib2roce/ib2roce.c
===================================================================
--- rdma-core.orig/ib2roce/ib2roce.c
+++ rdma-core/ib2roce/ib2roce.c
@@ -3094,6 +3094,9 @@ static void receive_multicast(struct buf
 	if (!bridging)
 		goto free_out;
 
+	if (drop_packets && (c->stats[packets_received] % drop_packets) == drop_packets - 1)
+		goto free_out;
+
 	ret = send_to(i2r[in ^ 1].multicast, buf->cur, buf->end - buf->cur, m->ai + (in ^ 1), false, 0, buf);
 
 	if (ret)
