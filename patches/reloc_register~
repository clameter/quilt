Index: rdma-core/ib2roce/ib2roce.c
===================================================================
--- rdma-core.orig/ib2roce/ib2roce.c
+++ rdma-core/ib2roce/ib2roce.c
@@ -1680,6 +1680,7 @@ static int allocate_rdmacm_qp(struct rdm
 				c->text, errname());
 			abort();
 		}
+		register_callback(handle_comp_event, c->comp_events->fd, c->comp_events);
 	} else
 		c->comp_events = NULL;
 
@@ -1751,6 +1752,9 @@ bool setup_multicast(struct rdma_channel
 		return false;
 	}
 
+	register_callback(handle_rdma_event, i->rdma_events->fd, i);
+	register_callback(handle_async_event, i->context->async_fd, i);
+
 	ret = rdma_bind_addr(c->id, c->bindaddr);
 	if (ret) {
 		logg(LOG_CRIT, "Failed to bind %s interface. Error %s\n",
@@ -1960,6 +1964,7 @@ static void setup_interface(enum interfa
 			i->text, errname());
 		abort();
 	}
+	register_callback(handle_comp_event, i->comp_events->fd, i->comp_events);
 
 	i->pd = ibv_alloc_pd(i->context);
 	if (!i->pd) {
@@ -4566,25 +4571,6 @@ static void register_callback(void (*cal
 	poll_items++;
 }
 
-static void register_poll_events(void)
-{
-	struct i2r_interface *i;
-
-	for(i = i2r; i < i2r + NR_INTERFACES; i++)
-	   if (i->context) {
-
-		register_callback(handle_rdma_event, i->rdma_events->fd, i);
-		if (i->multicast->comp_events)
-			register_callback(handle_comp_event, i->multicast->comp_events->fd, i->multicast->comp_events);
-		register_callback(handle_async_event, i->context->async_fd, i);
-
-		if (i->raw || i->ud)	/* They share the interface comp_events notifier */
-			register_callback(handle_comp_event, i->comp_events->fd, i->comp_events);
-
-	}
-
-}
-
 static void setup_timed_events(void)
 {
 	unsigned long t;
@@ -5141,7 +5127,6 @@ int main(int argc, char **argv)
 		beacon_setup(beacon_arg);
 
 
-	register_poll_events();
 	post_receive_buffers();
 
 	start_cores();
