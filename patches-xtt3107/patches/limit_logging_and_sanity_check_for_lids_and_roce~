Index: rdma-core/ib2roce/ib2roce.c
===================================================================
--- rdma-core.orig/ib2roce/ib2roce.c
+++ rdma-core/ib2roce/ib2roce.c
@@ -2395,6 +2395,10 @@ static struct endpoint *at_to_ep(struct
 
 
 	if (at->dlid) {
+
+		if (i == i2r + ROCE)
+			abort();
+
 		ep = hash_find(i->ep, &at->dlid);
 		if (ep) {
 			if (ep->addr.s_addr == 0 && addr.s_addr) {
@@ -3163,7 +3167,7 @@ static void receive_raw(struct buf *buf)
 		}
 
 		if (w->slid == i->port_attr.lid) {
-			reason = "Unicast Loopback";
+			reason = "-Unicast Loopback";
 			goto discard;
 		}
 
